<%- include('layouts/header') %>
<main>
    <div class="container my-5">
        <h2 class="text-center mb-4" style="color: #4CAF50;">My Trips</h2>
        <table class="table table-bordered table-hover mt-4" style="background-color: #ffffff; border-color: #4CAF50;">
          <thead style="background-color: #4CAF50; color: #fff;">
            <tr>
              <th>ID</th>
              <th>City</th>
              <th>Image</th>
              <th>Name</th>
              <th>Date</th>
              <th>Time</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <% my_trips.forEach(trips => { %>
                 <tr style="background-color: #f9f9f9;" onmouseover="this.style.backgroundColor='#e8f5e9'" onmouseout="this.style.backgroundColor='#f9f9f9'">
                    <td class="px-3 py-3"><%= trips.id %></td>
                    <td class="px-3 py-3"><%= trips.placeCity %></td>
                    <td class="px-3 py-3">
                        <!-- Image Container -->
                        <div style="border: 1px solid #ddd; padding: 5px; width: 100px; height: 100px; display: flex; justify-content: center; align-items: center; background-color: #f1f8e9;">
                            <img src="<%= trips.image %>" alt="Trip Image" style="width: 90px; height: 90px; object-fit: cover; border-radius: 5px;">
                        </div>
                    </td>
                    <td class="px-3 py-3"><%= trips.customerName %></td>
                    <td class="px-3 py-3"><%= trips.date %></td>
                    <td class="px-3 py-3"><%= trips.time %></td>
                    <td class="px-3 py-3">
                        <!-- Edit -->
                        <a href="/trips/edit/<%= trips._id %>" 
                           class="btn btn-sm btn-outline-primary me-2">Edit</a>

                        <!-- Delete Form -->
                        <form method="POST" action="/trips/delete/<%= trips._id %>" style="display: inline;">
                            <input type="hidden" name="_method" value="DELETE" />
                            <button type="submit" class="btn btn-sm btn-outline-danger">Delete</button>
                        </form>
                    </td>
                 </tr>
            <% }) %>
          </tbody>
        </table>
        
        <!-- Add Trip Button -->
        <div class="d-flex justify-content-end">
          <button class="btn btn-success btn-lg" onclick="window.location.href='/trips/new'">Add Trip</button>
        </div>
    </div>
</main>